<%= form_for @switch do |swform| %>
    <%= swform.label :swmodel_id, "Модель" %>
    <%= swform.select(:swmodel_id, options_from_collection_for_select(Swmodel.all, :id, :name)) %>
    <%= swform.label "IP адрес" %>
    <%# Внутри условия идет иницализация value для разделения случаев генерирования формы для нового свитча
     и редактирования свитча %>
    <% if @switch.ips.size==0 then %>
        <% value="generate" %>
    <% else %>
        <% value=@switch.ips.first.ipaddress %>
    <% end %>
    <%= swform.text_field :ip, :value => value %>
    <%= swform.label :address, "Адрес" %>
    <%= swform.text_field :address %>
    <%= swform.submit "Создать/Редактировать" %>
<%- end %>